{% load static %}
<link rel="stylesheet" href="{% static 'css/Accountant.css' %}" />
<div class="form-container" id="editFormContainer">
  <h2
    class="form-title"
    style="text-align: center; color: var(--primary); margin-bottom: 25px"
  >
    CHỈNH SỬA KHOẢN THU <span class="title-icon">✍️</span>
  </h2>

  {% if form.errors %}
  <div class="message-container error-alert" style="margin-bottom: 20px">
    <i class="fa-solid fa-triangle-exclamation"></i>
    **Lỗi:** Vui lòng kiểm tra lại các trường được đánh dấu bên dưới.
  </div>
  {% endif %}

  <form
    method="post"
    action="{% url 'edit_khoanthu' pk=khoan_thu.pk %}"
    id="editFeeForm"
  >
    {% csrf_token %}

    <div class="form-group">
      <label class="form-label" style="font-weight: bold; color: #555"
        >Mã Khoản Thu</label
      >
      <input
        type="text"
        value="{{ khoan_thu.id_khoanthu }}"
        disabled
        class="form-control-disabled"
        style="
          background-color: #e9ecef;
          color: #495057;
          border: 1px solid #ced4da;
          cursor: not-allowed;
        "
      />
      <small class="form-text text-muted">Mã này không thể chỉnh sửa.</small>
    </div>
    {% for field in form.visible_fields %}
    <div class="form-group">
      <label for="{{ field.id_for_label }}" class="form-label">
        {{ field.label }} {% if field.field.required %}
        <span class="required-star">*</span>
        {% endif %}
      </label>

      {{ field }} {% if field.errors %}
      <div class="field-error-message">
        {% for error in field.errors %}
        <i class="fa-solid fa-circle-exclamation"></i> {{ error }} {% endfor %}
      </div>
      {% endif %} {% if field.help_text %}
      <small class="form-text text-muted">{{ field.help_text }}</small>
      {% endif %}
    </div>
    {% endfor %} {% if form.non_field_errors %}
    <div class="message-container error-alert" style="margin-top: 15px">
      {% for error in form.non_field_errors %}
      <i class="fa-solid fa-triangle-exclamation"></i> {{ error }} {% endfor %}
    </div>
    {% endif %}

    <div class="form-actions" style="margin-top: 40px; text-align: right">
      <button
        type="button"
        class="btn btn-secondary-outline modal-close-btn"
        style="min-width: 150px"
      >
        <i class="fa-solid fa-xmark"></i> Hủy
      </button>
      <button
        type="submit"
        class="btn btn-primary"
        style="min-width: 150px; margin-left: 15px"
      >
        <i class="fa-solid fa-cloud-arrow-up"></i> Cập Nhật
      </button>
    </div>
  </form>
</div>
