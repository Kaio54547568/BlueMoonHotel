{% load static %}
<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>hrmanage</title>
    <link rel="stylesheet" href="{% static 'css/hrmanage.css' %}" />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}? v=2" />
  </head>
  <body>
    <header class="topbar">
      <button
        id="btnOpen"
        class="icon-btn"
        aria-controls="sidebar"
        aria-expanded="false"
        aria-label="Mở menu"
      >
        ☰
      </button>
      <h1>BLUEMOON - Dashboard</h1>
    </header>
    <div class="search-bar">
      <form method="get" action="{% url 'hrmanage' %}">
        <input
          type="text"
          name="search_id"
          placeholder="Nhập ID hộ khẩu..."
          value="{{ query }}"
        />
        <button type="submit">Tìm kiếm</button>
        {% if query %}
        <a href="{% url 'hrmanage' %}">Hiện tất cả</a>
        {% endif %}
      </form>
    </div>
    <main class="main-content">
      <h1>Danh sách hộ khẩu</h1>
      <div class="household-list">
        {% for hk in ho_khau_list %}
        <div class="brutalist-card">
          <div class="brutalist-card__header">
            <div class="brutalist-card__title">ID Hộ #{{ hk.id_hokhau }}</div>
          </div>

          <div class="brutalist-card__meta">
            <div>Số căn: <strong>{{ hk.so_can_ho }}</strong></div>
            <div>Diện tích: <strong>{{ hk.dien_tich }}</strong> m²</div>
          </div>

          <div class="brutalist-card__actions">
            <a
              class="brutalist-card__button brutalist-card__button--secondary"
              href="{% url 'hokhau_detail' hk.id_hokhau %}"
              >Chi tiết</a
            >
            <a
              class="brutalist-card__button brutalist-card__button--primary"
              href="{% url 'hokhau_edit' hk.id_hokhau %}"
              >Chỉnh sửa</a
            >
          </div>
        </div>
        {% empty %}
        <p>Không có dữ liệu</p>
        {% endfor %}
      </div>

      <div class="add-hokhau-wrap">
        <a
          href="{% url 'add_hokhau' %}"
          class="brutalist-card__button brutalist-card__button--green"
        >
          Thêm hộ khẩu
        </a>
      </div>
    </main>

    {% include 'core/sidebar_and_footer.html' %}
  </body>
</html>
